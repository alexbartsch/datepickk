{"version":3,"sources":["datepickk.js"],"names":["Datepickk","args","generateDaynames","aTables","slice","call","that","el","tables","getElementsByClassName","forEach","parent","weeks","length","document","createElement","setAttribute","appendChild","weekEl","innerHTML","ws","weekStart","languages","lang","daynames","i","dayNameIndex","dayNames","dayEl","dayTextEl","generateYears","yearPicker","childNodes","node","index","currentYear","parseInt","getAttribute","toString","substring","generateInputs","highlightLegend","e","hexToRgb","hex","result","exec","r","g","b","result2","target","nodeName","legendIds","split","legendId","element","legend","querySelector","type","color","removeAttribute","x","months","l1","month","l2","container","input","id","numInstances","label","text","tooltip","addEventListener","eventName","event","locked","preventDefault","inputChange","y","filler","className","generateLegends","hoverLegend","querySelectorAll","this","classList","add","remove","idx","start","Date","end","_highlights","highlight","filter","m","dates","legends","l","oldLegend","backgroundColor","legendItem","legendItemPoint","push","item","indexOf","removeEventListener","removeChild","parseMonth","generateDates","year","date","UTC","days","getDate","daysLast","startDay","getDay","toJSON","substr","monthText","monthNames","inputEl","labelEl","nextSibling","checked","disabledDates","getTime","disabledDays","minDate","maxDate","today","setHours","tooltips","bgColor","percent","Math","round","z","Color","setDate","resetCalendar","currentMonth","getFullYear","getMonth","header","c","monthPicker","startmonth","endmonth","monthint","yearname","renderSelectedDates","onNavigation","selectedDates","updateRange","monthPickEl","yearPickEl","nextMonth","prevMonth","selectDate","ignoreOnSelect","range","onSelect","apply","unselectDate","unselectAll","startObj","endObj","parentNode","bContinued","tableHead","year_month","maxSelections","closeOnSelect","hide","setRange","val","show","properties","inline","body","setArgs","handler","calendar","whichAnimationEvent","opened","startDate","onClose","bindEvents","contains","button","overlay","closeOnClick","startX","distance","changedTouches","clientX","originalEvent","key","init","getBrowserVersion","template","titleBox","window","FastClick","attach","currentDateGetter","currentDateSetter","no","se","ru","en","de","nb","nn","title","onConfirm","Object","defineProperties","get","sort","a","set","innerText","console","error","isOpen","Array","map","nextId","idList","hl","highlightObj","hlDate","callback","fullscreen","bind","ret","currentDate","String","HTMLElement","freeze","t","transitions","animation","OAnimation","MozAnimation","WebkitAnimation","","undefined","style","tem","ios","browser","version","ua","navigator","userAgent","M","match","test","appName","appVersion","splice","define","amd","exports","module"],"mappings":"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","file":"datepickk.min.js","sourcesContent":["/*!\n * Datepickk\n * Docs & License: https://crsten.github.com/datepickk\n * (c) 2016-17 Carsten Jacobsen\n */\n(function(){\n\n\tfunction Datepickk(args){\n\t\tDatepickk.numInstances = (Datepickk.numInstances || 0) + 1;\n\t\tvar that = this;\n\t\tvar eventName = 'click';\n\t\tvar selectedDates = [];\n\n\t\tvar currentYear = new Date().getFullYear();\n\t\tvar currentMonth = new Date().getMonth() + 1;\n\n\t\tvar languages = {\n\t\t\tno: {\n\t\t\t\tmonthNames:['Januar','Februar','Mars','April','Mai','Juni','Juli','August','September','Oktober','November','Desember'],\n\t\t\t\tdayNames:['sø','ma','ti','on','to','fr','lø'],\n\t\t\t\tweekStart:1\n\t\t\t},\n\t\t\tse: {\n\t\t\t\tmonthNames:['januari','februari','mars','april','maj','juni','juli','augusti','september','oktober','november','december'],\n\t\t\t\tdayNames:['sö','må','ti','on','to','fr','lö'],\n\t\t\t\tweekStart:1\n\t\t\t},\n\t\t\tru: {\n\t\t\t\tmonthNames:['Январь','Февраль','Март','Апрель','Май','Июнь','Июль','Август','Сентябрь','Октябрь','Ноябрь','Декабрь'],\n\t\t\t\tdayNames:['вс','пн','вт','ср','чт','пт','сб'],\n\t\t\t\tweekStart:1\n\t\t\t},\n\t\t\ten: {\n\t\t\t\tmonthNames:['january','february','march','april','may','june','july','august','september','october','november','december'],\n\t\t\t\tdayNames:['su','mo','tu','we','th','fr','sa'],\n\t\t\t\tweekStart:0\n\t\t\t},\n\t\t\tde: {\n\t\t\t\tmonthNames:['Januar','Februar','März','April','Mai','Juni','Juli','August','September','Oktober','November','Dezember'],\n\t\t\t\tdayNames:['So','Mo','Di','Mi','Do','Fr','Sa'],\n\t\t\t\tweekStart:1\n\t\t\t}\n\t\t};\n\n\t\t/*Language aliases*/\n\t\tlanguages.nb = languages.no;\n\t\tlanguages.nn = languages.no;\n\n\t\tvar range = false;\n\t\tvar maxSelections = null;\n\t\tvar container = document.body;\n\t\tvar opened = false;\n\t\tvar months = 1;\n\t\tvar closeOnSelect = false;\n\t\tvar button = null;\n\t\tvar title = null;\n\t\tvar onNavigation = null;\n\t\tvar onClose = null;\n\t\tvar onConfirm = null;\n\t\tvar closeOnClick = true;\n\t\tvar inline = false;\n\t\tvar lang = 'en';\n\t\tvar onSelect = null;\n\t\tvar disabledDates = [];\n\t\tvar disabledDays = [];\n\t\tvar highlight = [];\n\t\tvar tooltips = {};\n\t\tvar daynames = true;\n\t\tvar today = true;\n\t\tvar startDate = null;\n\t\tvar minDate = null;\n\t\tvar maxDate = null;\n\t\tvar weekStart = null;\n\t\tvar locked = false;\n\n\t\tfunction generateDaynames(){\n\t\t\tvar aTables = [].slice.call(that.el.tables.getElementsByClassName('d-table-head'));\n\t\t\taTables.forEach(function(parent) {\n\t\t\t\tvar weeks = parent.getElementsByClassName(\"d-week\");\n\t\t\t\tif (! weeks.length) {\n\t\t\t\t\tvar el = document.createElement('div');\n\t\t\t\t\tel.setAttribute('class', 'd-week');\n\t\t\t\t\tparent.appendChild(el);\n\t\t\t\t}\n\t\t\t\tvar weekEl = weeks[0];\n\t\t\t\tweekEl.innerHTML = '';\n\t\t\t\tvar ws = (weekStart !== null) ? weekStart : languages[lang].weekStart;\n\t\t\t\tif(daynames){\n\t\t\t\t\tfor(var i = 0; i < 7;i++){\n\t\t\t\t\t\tvar dayNameIndex = (i + ws > languages[lang].dayNames.length - 1) ? i + ws - languages[lang].dayNames.length : i + ws;\n\t\t\t\t\t\tvar dayEl = document.createElement('div');\n\t\t\t\t\t\tvar\tdayTextEl = document.createElement('p');\n\t\t\t\t\t\t\tdayTextEl.innerHTML = languages[lang].dayNames[dayNameIndex];\n\t\t\t\t\t\t\tdayEl.appendChild(dayTextEl);\n\t\t\t\t\t\t\tweekEl.appendChild(dayEl);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction generateYears(){\n\t\t\t[].slice.call(that.el.yearPicker.childNodes).forEach(function(node,index) {\n\t\t\t\tnode.innerHTML = \"'\" + (currentYear + parseInt(node.getAttribute('data-year'))).toString().substring(2,4);\n\t\t\t});\n\t\t}\n\n\t\tfunction generateInputs(){\n\t\t\tthat.el.tables.innerHTML = '';\n\t\t\tfor(var x = 0;x<months;x++){\n\t\t\t\tvar l1 = document.createElement('div');\n\t\t\t\tthat.el.tables.appendChild(l1);\n\t\t\t\tl1.setAttribute('class', 'd-table-head');\n\t\t\t\tgenerateDaynames();\n\t\t\t\tvar month = document.createElement('div');\n\t\t\t\tmonth.setAttribute('class', 'd-month');\n\t\t\t\tl1.appendChild(month);\n\t\t\t\tvar l2 = document.createElement('div');\n\t\t\t\tl1.appendChild(l2);\n\t\t\t\tl2.setAttribute('class', 'd-table-container');\n\t\t\t\tvar container = document.createElement('div');\n\t\t\t\tl2.appendChild(container);\n\t\t\t\t\tcontainer.setAttribute('class','d-table');\n\t\t\t\tfor(var i = 0;i<42;i++){\n\t\t\t\t\tvar input = document.createElement('input');\n\t\t\t\t\tcontainer.appendChild(input);\n\t\t\t\t\t\tinput.type = 'checkbox';\n\t\t\t\t\t\tinput.id   = Datepickk.numInstances + '-' + x + '-d-day-' + i;\n\t\t\t\t\tvar label = document.createElement('label');\n\t\t\t\t\tcontainer.appendChild(label);\n\t\t\t\t\t\tlabel.setAttribute(\"for\",Datepickk.numInstances + '-' + x + '-d-day-' + i);\n\t\t\t\t\tvar text = document.createElement('text');\n\t\t\t\t\tlabel.appendChild(text);\n\t\t\t\t\tvar tooltip = document.createElement('span');\n\t\t\t\t\tlabel.appendChild(tooltip);\n\t\t\t\t\t\ttooltip.setAttribute('class','d-tooltip');\n\n\t\t\t\t\tinput.addEventListener(eventName,function(event){\n\t\t\t\t\t\tif(locked){\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tinput.addEventListener('change',inputChange);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// workaround until flex2 to prevent ugly last row with oversized items, see:\n\t\t\t//   https://stackoverflow.com/questions/28074473/how-can-i-allow-flex-items-to-grow-while-keeping-the-same-size/28076932#28076932\n\t\t\tfor (var y = 0; y < months; y++) {\n\t\t\t\tconst filler = document.createElement('span');\n\t\t\t\tfiller.className = 'd-hidden';\n\t\t\t\tthat.el.tables.appendChild(filler);\n\t\t\t}\n\n\t\t\tthat.el.tables.addEventListener('mouseover',highlightLegend);\n\t\t\tthat.el.tables.addEventListener('mouseout',highlightLegend);\n\n\t\t\tfunction highlightLegend(e){\n\t\t\t\tif(e.target.nodeName !== 'LABEL') return;\n\n\t\t\t\tvar legendIds = (e.target.getAttribute('data-legend-id'))?e.target.getAttribute('data-legend-id').split(' '):[];\n\t\t\t\tif(!legendIds.length) return;\n\n\t\t\t\tlegendIds.forEach(function(legendId) {\n\t\t\t\t\tvar element = that.el.legend.querySelector('[data-legend-id=\"' + legendId + '\"]');\n\t\t\t\t\tif(e.type == 'mouseover' && element){\n\t\t\t\t\t\tvar color = (element.getAttribute('data-color'))?hexToRgb(element.getAttribute('data-color')):null;\n\t\t\t\t\t\tif (color) element.setAttribute('style','background-color:rgba(' + color.r + ',' + color.g + ',' + color.b + ',0.35);');\n\t\t\t\t\t}else if(element){\n\t\t\t\t\t\telement.removeAttribute('style');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tfunction hexToRgb(hex) {\n\t\t\t\t\tif (hex.length === 7) {\n\t\t\t\t\t\tvar result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\t\t\t\t\t\treturn result ? {\n\t\t\t\t\t\t\tr: parseInt(result[1], 16),\n\t\t\t\t\t\t\tg: parseInt(result[2], 16),\n\t\t\t\t\t\t\tb: parseInt(result[3], 16)\n\t\t\t\t\t\t} : null;\n\t\t\t\t\t} else if (hex.length === 4) {\n\t\t\t\t\t\tvar result2 = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i.exec(hex);\n\t\t\t\t\t\treturn result2 ? {\n\t\t\t\t\t\t\tr: parseInt(result2[1], 16),\n\t\t\t\t\t\t\tg: parseInt(result2[2], 16),\n\t\t\t\t\t\t\tb: parseInt(result2[3], 16)\n\t\t\t\t\t\t} : null;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction generateLegends(){\n\t\t\tconst idx = 2; // that.el.tables.childNodes[0].childNodes.length - 1;\n\t\t\tvar start = new Date(that.el.tables.childNodes[0].childNodes[idx].childNodes[0].childNodes[0].getAttribute('data-date'));\n\t\t\tvar end = new Date(that.el.tables.childNodes[months - 1].childNodes[idx].childNodes[0].childNodes[82].getAttribute('data-date'));\n\t\t\tvar _highlights = highlight.filter(function(x){\n\t\t\t\tfor(var m = 0;m < x.dates.length;m++){\n\t\t\t\t\tif(x.dates[m].start < end && x.dates[m].end > start){\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tvar legends = [];\n\t\t\tfor(var l = 0;l<_highlights.length;l++){\n\t\t\t\tif('legend' in _highlights[l] && _highlights[l].legend){\n\t\t\t\t\tvar oldLegend = container.querySelector('.d-legend-item[data-legend=\"' + _highlights[l].legend + '\"][data-color=\"' + _highlights[l].backgroundColor + '\"]');\n\t\t\t\t\tif(oldLegend == null){\n\t\t\t\t\t\tvar legendItem = document.createElement('p');\n\t\t\t\t\t\t\tlegendItem.setAttribute('class','d-legend-item');\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-legend',_highlights[l].legend);\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-legend-id', _highlights[l].id);\n\t\t\t\t\t\t\tlegendItem.setAttribute('data-color',_highlights[l].backgroundColor);\n\t\t\t\t\t\tvar legendItemPoint = document.createElement('span');\n\t\t\t\t\t\t\tlegendItemPoint.setAttribute('style','background-color:' + _highlights[l].backgroundColor);\n\n\t\t\t\t\t\tlegendItem.appendChild(legendItemPoint);\n\n\t\t\t\t\t\tthat.el.legend.appendChild(legendItem);\n\t\t\t\t\t\tlegendItem.addEventListener('mouseover',hoverLegend);\n\t\t\t\t\t\tlegendItem.addEventListener('mouseout',hoverLegend);\n\t\t\t\t\t\tlegends.push(legendItem);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlegends.push(oldLegend);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t[].slice.call(that.el.legend.querySelectorAll('.d-legend-item')).forEach(function(item) {\n\t\t\t\tif(legends.indexOf(item) < 0){\n\t\t\t\t\titem.removeEventListener('mouseover',hoverLegend);\n\t\t\t\t\titem.removeEventListener('mouseout',hoverLegend);\n\t\t\t\t\tthat.el.legend.removeChild(item);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction hoverLegend(e){\n\t\t\t\t[].slice.call(that.el.tables.querySelectorAll('[data-legend-id*=\"' + this.getAttribute('data-legend-id') + '\"]')).forEach(function(element) {\n\t\t\t\t\tif(e.type == 'mouseover') element.classList.add('legend-hover');\n\t\t\t\t\telse element.classList.remove('legend-hover');\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tfunction parseMonth(month){\n\t\t\tif(month > 11) month -= 12;\n\t\t\telse if(month < 0) month += 12;\n\t\t\treturn month;\n\t\t}\n\n\t\tfunction generateDates(year,month){\n\t\t\tvar months = that.el.querySelectorAll('.d-table-head').length;\n\t\t\tvar ws = (weekStart !== null) ? weekStart : languages[lang].weekStart;\n\n\t\t\t[].slice.call(that.el.querySelectorAll('.d-table-head')).forEach(function(element, index) {\n\t\t\t\tvar date = new Date(Date.UTC(year, month + index - 1, 1));\n\t\t\t\tvar days = new Date(year,month + index,0).getDate();\n\t\t\t\tvar daysLast = new Date(year,month + index - 1,0).getDate();\n\t\t\t\tvar startDay = new Date(year,month + index - 1,1).getDay();\n\t\t\t\tif(startDay - ws < 0){\n\t\t\t\t\tstartDay = 7 - ws;\n\t\t\t\t}else{\n\t\t\t\t\tstartDay -= ws;\n\t\t\t\t}\n\t\t\t\telement.setAttribute('data-ym', date.toJSON().substr(0, 7));\n\t\t\t\tvar monthText = languages[lang].monthNames[parseMonth(month - 1 + index)];\n\t\t\t\telement.childNodes[element.childNodes.length - 2].setAttribute('data-month', monthText);\n\n\t\t\t\t[].slice.call(element.querySelectorAll('.d-table input')).forEach(function(inputEl,i) {\n\t\t\t\t\tvar labelEl = inputEl.nextSibling;\n\n\t\t\t\t\tinputEl.checked = false;\n\t\t\t\t\tinputEl.removeAttribute('disabled');\n\t\t\t\t\tlabelEl.removeAttribute('style');\n\t\t\t\t\tlabelEl.removeAttribute('data-legend-id');\n\t\t\t\t\tlabelEl.className = '';\n\n\t\t\t\t\tvar date = null;\n\t\t\t\t\tif(i < startDay){\n\t\t\t\t\t\tlabelEl.childNodes[0].innerHTML = daysLast - (startDay - i - 1);\n\t\t\t\t\t\tif(index == 0){\n\t\t\t\t\t\t\tdate = new Date(year,month + index - 2,daysLast - (startDay - i - 1));\n\t\t\t\t\t\t\tlabelEl.className = 'prev';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdate = '';\n\t\t\t\t\t\t\tlabelEl.className = 'd-hidden';\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(i < days + startDay){\n\t\t\t\t\t\tdate = new Date(year,month + index - 1,i - startDay+1);\n\t\t\t\t\t\tlabelEl.childNodes[0].innerHTML = i - startDay + 1;\n\t\t\t\t\t\tlabelEl.className = '';\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlabelEl.childNodes[0].innerHTML = i - days - startDay + 1;\n\t\t\t\t\t\tif(index == months-1){\n\t\t\t\t\t\t\tdate = new Date(year,month + index,i - days - startDay + 1);\n\t\t\t\t\t\t\tlabelEl.className = 'next';\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tdate = '';\n\t\t\t\t\t\t\tlabelEl.className = 'd-hidden';\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif(date instanceof Date){\n\t\t\t\t\t\tinputEl.setAttribute('data-date',date.toJSON());\n\n\t\t\t\t\t\tif(disabledDates.indexOf(date.getTime()) != -1 || disabledDays.indexOf(date.getDay()) != -1){\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif((minDate && date < minDate) || (maxDate && date > maxDate)){\n\t\t\t\t\t\t\tlabelEl.className = 'd-hidden';\n\t\t\t\t\t\t\tinputEl.setAttribute('disabled',true);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(today && date.getTime() == new Date().setHours(0,0,0,0)){\n\t\t\t\t\t\t\tlabelEl.classList.add('today');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlabelEl.classList.remove('today');\n\t\t\t\t\t\t}\n\n\n\t\t\t\t\t\tif(tooltips[date.getTime()]){\n\t\t\t\t\t\t\tlabelEl.childNodes[0].setAttribute('data-tooltip',true);\n\t\t\t\t\t\t\tlabelEl.childNodes[1].innerHTML = tooltips[date.getTime()];\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tlabelEl.childNodes[0].removeAttribute('data-tooltip');\n\t\t\t\t\t\t\tlabelEl.childNodes[1].innerHTML = '';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar _highlights = highlight.filter(function(x){\n\t\t\t\t\t\t\tfor(var m = 0;m < x.dates.length;m++){\n\t\t\t\t\t\t\t\tif(date.getTime() >= x.dates[m].start.getTime() && date.getTime() <= x.dates[m].end.getTime()){\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tif(_highlights.length > 0){\n\t\t\t\t\t\t\tvar bgColor = '';\n\t\t\t\t\t\t\tvar legendIds = '';\n\n\t\t\t\t\t\t\tif(_highlights.length > 1){\n\t\t\t\t\t\t\t\tvar percent = Math.round(100 / _highlights.length);\n\t\t\t\t\t\t\t\tbgColor = 'background: linear-gradient(-45deg,';\n\t\t\t\t\t\t\t\tfor(var z = 0;z < _highlights.length;z++){\n\t\t\t\t\t\t\t\t\tlegendIds += _highlights[z].id + ' ';\n\t\t\t\t\t\t\t\t\tbgColor += _highlights[z].backgroundColor + ' ' + (percent*z) + '%';\n\t\t\t\t\t\t\t\t\tif(z != _highlights.length - 1){\n\t\t\t\t\t\t\t\t\t\tbgColor += ',';\n\t\t\t\t\t\t\t\t\t\tbgColor += _highlights[z].backgroundColor + ' ' + (percent*(z+1)) + '%,';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tbgColor += ');';\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tbgColor = (_highlights[0].backgroundColor)?'background:'+ _highlights[0].backgroundColor + ';':'';\n\t\t\t\t\t\t\t\tlegendIds += _highlights[0].id + ' ';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar Color = (_highlights[0].color)?'color:'+ _highlights[0].color + ';':'';\n\t\t\t\t\t\t\tlabelEl.setAttribute('style',bgColor + Color);\n\t\t\t\t\t\t\tlabelEl.setAttribute('data-legend-id',legendIds);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tgenerateLegends();\n\t\t};\n\n\t\tfunction setDate(){\n\t\t\tif(!that.el.tables.childNodes.length) return;\n\n\t\t\tresetCalendar();\n\n\t\t\tif(currentMonth > 12 || currentMonth < 1){\n\t\t\t\tif(currentMonth > 12){\n\t\t\t\t\tcurrentYear += 1;\n\t\t\t\t\tcurrentMonth -= 12;\n\t\t\t\t}else{\n\t\t\t\t\tcurrentYear -= 1;\n\t\t\t\t\tcurrentMonth += 12;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(maxDate && new Date(currentYear,currentMonth-1+months-1,1) >= new Date(maxDate).setDate(1)){\n\t\t\t\tcurrentYear = maxDate.getFullYear();\n\t\t\t\tcurrentMonth = maxDate.getMonth() + 1 - months + 1;\n\t\t\t\tthat.el.header.childNodes[2].setAttribute('style','visibility:hidden');\n\t\t\t}else{\n\t\t\t\tthat.el.header.childNodes[2].removeAttribute('style');\n\t\t\t}\n\t\t\tif(minDate && new Date(currentYear,currentMonth -1,1) <= new Date(minDate).setDate(1)){\n\t\t\t\tcurrentYear = minDate.getFullYear();\n\t\t\t\tcurrentMonth = minDate.getMonth() + 1;\n\t\t\t\tthat.el.header.childNodes[0].setAttribute('style','visibility:hidden');\n\t\t\t}else{\n\t\t\t\tthat.el.header.childNodes[0].removeAttribute('style');\n\t\t\t}\n\n\t\t\tfor(var c = 0;c < months;c++){\n\t\t\t\tvar index = currentMonth-1+c;\n\t\t\t\tif(index > 11){\n\t\t\t\t\tindex -= 12;\n\t\t\t\t}else if(index < 0){\n\t\t\t\t\tindex += 12;\n\t\t\t\t}\n\n\t\t\t\tthat.el.monthPicker.childNodes[index].classList.add('current');\n\t\t\t}\n\n\t\t\tgenerateDates(currentYear,currentMonth);\n\t\t\tgenerateYears();\n\t\t\tvar startmonth = languages[lang].monthNames[currentMonth-1];\n\t\t\tvar endmonth = '';\n\t\t\tif(months > 1){\n\t\t\t\tendmonth += ' - ';\n\t\t\t\tvar monthint = currentMonth-1+months-1;\n\t\t\t\tif(monthint > 11){\n\t\t\t\t\tmonthint -= 12;\n\t\t\t\t}else if(monthint < 0){\n\t\t\t\t\tmonthint += 12;\n\t\t\t\t}\n\t\t\t\tendmonth += languages[lang].monthNames[monthint];\n\t\t\t}\n\t\t\tvar yearname = (currentMonth-1+months-1 > 11)?currentYear.toString().substring(2,4) + '/' + (currentYear + 1).toString().substring(2,4):currentYear.toString().substring(2,4);\n\t\t\tthat.el.header.childNodes[1].childNodes[0].innerHTML = startmonth + endmonth;\n\t\t\tthat.el.header.childNodes[1].childNodes[1].innerHTML = yearname;\n\n\t\t\tthat.el.yearPicker.querySelector('[data-year=\"0\"]').classList.add('current');\n\t\t\tif(currentMonth-1+months-1>11){\n\t\t\t\tthat.el.yearPicker.querySelector('[data-year=\"1\"]').classList.add('current');\n\t\t\t}\n\n\t\t\trenderSelectedDates();\n\t\t\tif(onNavigation) onNavigation.call(that);\n\t\t};\n\n\t\tfunction renderSelectedDates(){\n\t\t\tselectedDates.forEach(function(date) {\n\t\t\t\tvar el = that.el.querySelector('[data-date=\"' + date.toJSON() + '\"]');\n\t\t\t\tif(el){\n\t\t\t\t\tel.checked = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tupdateRange();\n\t\t};\n\n\t\tfunction resetCalendar(){\n\t\t\t[].slice.call(that.el.querySelectorAll('.d-table input')).forEach(function(inputEl) {\n\t\t\t\tinputEl.checked = false;\n\t\t\t});\n\n\t\t\t[].slice.call(that.el.monthPicker.querySelectorAll('.current')).forEach(function(monthPickEl) {\n\t\t\t\tmonthPickEl.classList.remove('current');\n\t\t\t});\n\n\t\t\t[].slice.call(that.el.yearPicker.querySelectorAll('.current')).forEach(function(yearPickEl) {\n\t\t\t\tyearPickEl.classList.remove('current');\n\t\t\t});\n\t\t};\n\n\t\tfunction nextMonth(){\n\t\t\tcurrentMonth += months;\n\t\t\tsetDate();\n\t\t};\n\n\t\tfunction prevMonth(){\n\t\t\tcurrentMonth -= months;\n\t\t\tsetDate();\n\t\t};\n\n\t\tfunction selectDate(date, ignoreOnSelect) {\n\t\t\tdate = new Date(date);\n\t\t\tdate.setHours(0, 0, 0, 0);\n\n\t\t\tvar el = that.el.querySelector('[data-date=\"' + date.toJSON() + '\"]');\n\t\t\tif (el) {\n\t\t\t\tif (range) {\n\t\t\t\t\tel.classList.add(selectedDates.length > 0 ? 'd-end' : 'd-start');\n\t\t\t\t}\n\t\t\t\tif (! el.checked) {\n\t\t\t\t\tel.checked = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tselectedDates.push(date);\n\n\t\t\tif (onSelect && !ignoreOnSelect) {\n\t\t\t\tonSelect.apply(date, [true]);\n\t\t\t}\n\t\t};\n\n\t\tfunction unselectDate(date, ignoreOnSelect) {\n\t\t\tdate = new Date(date);\n\t\t\tdate.setHours(0, 0, 0, 0);\n\n\t\t\tvar el = that.el.querySelector('[data-date=\"' + date.toJSON() + '\"]');\n\t\t\tif (el) {\n\t\t\t\tif (range) {\n\t\t\t\t\tel.classList.remove('d-start');\n\t\t\t\t\tel.classList.remove('d-end');\n\t\t\t\t}\n\t\t\t\tif (el.checked) {\n\t\t\t\t\tel.checked = false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tselectedDates = selectedDates.filter(function (x) {\n\t\t\t\treturn x.getTime() != date.getTime();\n\t\t\t});\n\n\t\t\tif (onSelect && !ignoreOnSelect) {\n\t\t\t\tonSelect.call(date, false);\n\t\t\t}\n\t\t};\n\n\t\tfunction unselectAll(ignoreOnSelect){\n\t\t\twhile (selectedDates.length > 0) {\n\t\t\t\tunselectDate(selectedDates[0], ignoreOnSelect);\n\t\t\t}\n\t\t};\n\n\t\tfunction updateRange() {\n\t\t\tvar startObj = null;\n\t\t\tvar endObj = null;\n\t\t\tif (range) {\n\t\t\t\tif (selectedDates.length > 1) {\n\t\t\t\t\tstartObj = selectedDates[1].getTime() > selectedDates[0].getTime() ? selectedDates[0] : selectedDates[1];\n\t\t\t\t\tendObj = selectedDates[1].getTime() > selectedDates[0].getTime() ? selectedDates[1] : selectedDates[0];\n\t\t\t\t} else if (selectedDates.length > 0) {\n\t\t\t\t\tstartObj = selectedDates[0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar start = startObj ? startObj.toJSON().substr(0, 7) : null;\n\t\t\tvar end = endObj ? endObj.toJSON().substr(0, 7) : null;\n\t\t\tif (startObj) startObj = that.el.querySelector('[data-date=\"' + startObj.toJSON() + '\"]');\n\t\t\tif (endObj) endObj = that.el.querySelector('[data-date=\"' + endObj.toJSON() + '\"]');\n\t\t\tif (startObj) startObj = startObj.parentNode.parentNode.parentNode;\n\t\t\tif (endObj) endObj = endObj.parentNode.parentNode.parentNode;\n\n\t\t\tif (start && end) {\n\t\t\t\tthat.el.tables.classList.add('d-selected');\n\t\t\t} else {\n\t\t\t\tthat.el.tables.classList.remove('d-selected');\n\t\t\t}\n\n\t\t\tvar bContinued = false;\n\t\t\t[].slice.call(that.el.querySelectorAll('.d-table-head')).forEach(function (tableHead, index) {\n\t\t\t\tvar year_month = tableHead.getAttribute('data-ym');\n\t\t\t\ttableHead.classList.remove('d-start');\n\t\t\t\ttableHead.classList.remove('d-cont');\n\t\t\t\ttableHead.classList.remove('d-end');\n\t\t\t\tif (start) {\n\t\t\t\t\tif (end) {\n\t\t\t\t\t\t// special case for single date selection\n\t\t\t\t\t\tif (tableHead === startObj && selectedDates[1].getTime() !== selectedDates[0].getTime()) {\n\t\t\t\t\t\t\ttableHead.classList.add('d-start');\n\t\t\t\t\t\t\tbContinued = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (tableHead === endObj) {\n\t\t\t\t\t\t\ttableHead.classList.add('d-end');\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (tableHead === startObj) {\n\t\t\t\t\t\t\ttableHead.classList.add('d-start');\n\t\t\t\t\t\t\tbContinued = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (! bContinued) {\n\t\t\t\t\t\tbContinued = true;\n\t\t\t\t\t\tif (start < year_month && (! end || year_month <= end)) tableHead.classList.add('d-cont');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction inputChange(e){\n\t\t\tif (locked) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar input = this;\n\t\t\tvar date = new Date(input.getAttribute('data-date'));\n\n\t\t\tif (range) {\n\t\t\t\tif (selectedDates.length > 1) {\n\t\t\t\t\twhile (selectedDates.length > 0) {\n\t\t\t\t\t\tunselectDate(selectedDates[0]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tselectDate(date);\n\n\t\t\t} else {\n\t\t\t\tif (input.checked) {\n\t\t\t\t\tif (maxSelections && selectedDates.length > maxSelections - 1) {\n\t\t\t\t\t\tvar length = selectedDates.length;\n\t\t\t\t\t\tfor (length; length > maxSelections - 1; length--) {\n\t\t\t\t\t\t\tunselectDate(selectedDates[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tselectDate(date);\n\t\t\t\t} else {\n\t\t\t\t\tunselectDate(date);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tupdateRange();\n\n\t\t\tif (closeOnSelect) {\n\t\t\t\tthat.hide();\n\t\t\t}\n\t\t};\n\n\t\tfunction setRange(val){\n\t\t\tif(val){\n\t\t\t\trange = true;\n\t\t\t\tthat.el.tables.classList.add('range');\n\t\t\t}else{\n\t\t\t\trange = false;\n\t\t\t\tthat.el.tables.classList.remove('range');\n\t\t\t}\n\t\t};\n\n\t\tfunction show(properties){\n\t\t\tif(!that.inline && that.container === document.body){document.body.classList.add('d-noscroll');}\n\t\t\tsetArgs(properties);\n\t\t\tvar handler = function(){\n\t\t\t\tthat.el.classList.remove('d-show');\n\t\t\t\tthat.el.calendar.removeEventListener(whichAnimationEvent(),handler);\n\t\t\t};\n\t\t\tthat.el.calendar.addEventListener(whichAnimationEvent(),handler);\n\t\t\tthat.el.classList.add('d-show');\n\t\t\tcontainer.appendChild(that.el);\n\t\t\topened = true;\n\t\t\tif(startDate){\n\t\t\t\tcurrentMonth = startDate.getMonth() + 1;\n\t\t\t\tcurrentYear = startDate.getFullYear();\n\t\t\t}\n\t\t\tsetDate();\n\t\t};\n\n\t\tfunction hide(){\n\t\t\tdocument.body.classList.remove('d-noscroll');\n\t\t\tvar handler = function(){\n\t\t\t\tthat.el.parentNode.removeChild(that.el);\n\t\t\t\topened = false;\n\t\t\t\tthat.el.classList.remove('d-hide');\n\t\t\t\tif(typeof onClose == 'function'){\n\t\t\t\t\tonClose.apply(that);\n\t\t\t\t}\n\t\t\t\tthat.el.removeEventListener(whichAnimationEvent(),handler);\n\t\t\t};\n\t\t\tthat.el.addEventListener(whichAnimationEvent(),handler);\n\t\t\tthat.el.classList.add('d-hide');\n\t\t};\n\n\t\tfunction bindEvents(){\n\t\t\tthat.el.header.childNodes[0].addEventListener(eventName,prevMonth);\n\t\t\tthat.el.header.childNodes[2].addEventListener(eventName,nextMonth);\n\t\t\tthat.el.header.childNodes[1].childNodes[0].addEventListener(eventName,function(){\n\t\t\t\tif(that.el.monthPicker.classList.contains('d-show')){\n\t\t\t\t\tthat.el.monthPicker.classList.remove('d-show');\n\t\t\t\t}else{\n\t\t\t\t\tthat.el.monthPicker.classList.add('d-show');\n\t\t\t\t}\n\t\t\t\tthat.el.yearPicker.classList.remove('d-show');\n\t\t\t});\n\t\t\tthat.el.header.childNodes[1].childNodes[1].addEventListener(eventName,function(){\n\t\t\t\tgenerateYears();\n\t\t\t\tif(that.el.yearPicker.classList.contains('d-show')){\n\t\t\t\t\tthat.el.yearPicker.classList.remove('d-show');\n\t\t\t\t}else{\n\t\t\t\t\tthat.el.yearPicker.classList.add('d-show');\n\t\t\t\t}\n\t\t\t\tthat.el.monthPicker.classList.remove('d-show');\n\t\t\t});\n\t\t\tthat.el.button.addEventListener(eventName,hide);\n\n\t\t\tthat.el.overlay.addEventListener(eventName,function(){\n\t\t\t\tif(closeOnClick){\n\t\t\t\t\tthat.hide();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t[].slice.call(that.el.monthPicker.childNodes).forEach(function(monthPicker) {\n\t\t\t\tmonthPicker.addEventListener(eventName,function(){\n\t\t\t\t\tcurrentMonth = parseInt(this.getAttribute('data-month'));\n\t\t\t\t\tsetDate();\n\t\t\t\t\tthat.el.monthPicker.classList.remove('d-show');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\t[].slice.call(that.el.yearPicker.childNodes).forEach(function(yearPicker) {\n\t\t\t\tyearPicker.addEventListener(eventName,function(){\n\t\t\t\t\tcurrentYear += parseInt(this.getAttribute('data-year'));\n\t\t\t\t\tsetDate();\n\t\t\t\t\tthat.el.yearPicker.classList.remove('d-show');\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tvar startX = 0;\n\t\t\tvar distance = 0;\n\t\t\tthat.el.calendar.addEventListener('touchstart',function(e){\n\t\t\t\tstartX = e.changedTouches[0].clientX || e.originalEvent.changedTouches[0].clientX;\n\t\t\t\t//e.preventDefault();\n\t\t\t});\n\n\t\t\tthat.el.calendar.addEventListener('touchmove',function(e){\n\t\t\t\tdistance = e.changedTouches[0].clientX - startX || e.originalEvent.changedTouches[0].clientX - startX;\n\t\t\t\te.preventDefault();\n\t\t\t});\n\n\t\t\tthat.el.calendar.addEventListener('touchend',function(e){\n\t\t\t\tif(distance > 50){\n\t\t\t\t\tprevMonth();\n\t\t\t\t}else if(distance < -50){\n\t\t\t\t\tnextMonth();\n\t\t\t\t}\n\t\t\t\tdistance = 0;\n\t\t\t});\n\t\t};\n\n\t\tfunction setArgs(x){\n\t\t\tfor(var key in x){\n\t\t\t\tif(key in that){\n\t\t\t\t\tthat[key] = x[key];\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tfunction init(){\n\t\t\tthat.el = document.createElement('div');\n\t\t\tthat.el.className = 'Datepickk';\n\t\t\tthat.el.classList.add(getBrowserVersion().type);\n\t\t\tthat.el.innerHTML = template;\n\t\t\tthat.el.calendar = that.el.childNodes[1];\n\t\t\tthat.el.titleBox = that.el.childNodes[0];\n\t\t\tthat.el.button = that.el.childNodes[3];\n\t\t\tthat.el.header = that.el.calendar.childNodes[0];\n\t\t\tthat.el.monthPicker = that.el.calendar.childNodes[1];\n\t\t\tthat.el.yearPicker = that.el.calendar.childNodes[2];\n\t\t\tthat.el.tables = that.el.calendar.childNodes[3];\n\t\t\tthat.el.overlay = that.el.childNodes[4];\n\t\t\tthat.el.legend = that.el.childNodes[2];\n\n\t\t\tsetArgs(args);\n\n\t\t\tgenerateInputs();\n\t\t\tbindEvents();\n\n\t\t\tif(inline){\n\t\t\t\tshow();\n\t\t\t}\n\n\t\t\tif(window.FastClick != null){\n\t\t\t\tFastClick.attach(that.el);\n\t\t\t}\n\t\t}\n\n\t\tthat.show = show;\n\t\tthat.hide = hide;\n\t\tthat.selectDate = selectDate;\n\t\tthat.unselectAll = unselectAll;\n\t\tthat.unselectDate = unselectDate;\n\t\tthat.updateRange = updateRange;\n\n\t\tfunction currentDateGetter(){\n\t\t\treturn new Date(currentYear,currentMonth-1,1);\n\t\t}\n\t\tfunction currentDateSetter(x){\n\t\t\tx = new Date(x);\n\t\t\tcurrentMonth = x.getMonth() + 1;\n\t\t\tcurrentYear = x.getFullYear();\n\t\t\tsetDate();\n\t\t}\n\n\t\tObject.defineProperties(that,{\n\t\t\t\"selectedDates\": {\n\t\t\t\tget: function () {\n\t\t\t\t\treturn selectedDates.sort(function(a,b){return a.getTime() - b.getTime();});\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"range\": {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn range;\n\t\t\t\t},\n\t\t\t\tset: function(x) {\n\t\t\t\t\tsetRange(x);\n\t\t\t\t\tif(x){maxSelections = 2;}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"button\": {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn button;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(typeof x == 'string'){\n\t\t\t\t\t\tbutton = x;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tbutton = null;\n\t\t\t\t\t}\n\t\t\t\t\tthat.el.button.innerHTML = (button)?button:'';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"title\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn title;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(typeof x == 'string'){\n\t\t\t\t\t\ttitle = x;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttitle = null;\n\t\t\t\t\t}\n\t\t\t\t\tthat.el.titleBox.innerText = (title)?title:'';\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"lang\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn lang;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x in languages){\n\t\t\t\t\t\tlang = x;\n\t\t\t\t\t\tgenerateDaynames();\n\t\t\t\t\t\tsetDate();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error('Language not found');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"weekStart\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn (weekStart !== null) ? weekStart : languages[lang].weekStart;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(typeof x == 'number' && x > -1 && x < 7){\n\t\t\t\t\t\tweekStart = x;\n\t\t\t\t\t\tgenerateDaynames();\n\t\t\t\t\t\tsetDate();\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error('weekStart must be a number between 0 and 6');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"months\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn months;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(typeof x == 'number' && x > 0){\n\t\t\t\t\t\tmonths = x;\n\t\t\t\t\t\tgenerateInputs();\n\t\t\t\t\t\tsetDate();\n\n\t\t\t\t\t\tif(months == 1){\n\t\t\t\t\t\t\tthat.el.classList.remove('multi');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthat.el.classList.add('multi');\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error('months must be a number > 0');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"isOpen\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn opened;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"closeOnSelect\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn closeOnSelect;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tcloseOnSelect = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcloseOnSelect = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"disabledDays\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn disabledDays;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x instanceof Array){\n\t\t\t\t\t\tfor(var i = 0;i < x.length;i++){\n\t\t\t\t\t\t\tif(typeof x[i] == 'number'){\n\t\t\t\t\t\t\t\tdisabledDays.push(x[i]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(typeof x == 'number'){\n\t\t\t\t\t\tdisabledDays = [x];\n\t\t\t\t\t}else if(!x){\n\t\t\t\t\t\tdisabledDays = [];\n\t\t\t\t\t}\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"disabledDates\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn disabledDates.map(function(x){return new Date(x);});\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x instanceof Array){\n\t\t\t\t\t\tx.forEach(function(date) {\n\t\t\t\t\t\t\tif(date instanceof Date){\n\t\t\t\t\t\t\t\tdisabledDates.push(new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if(x instanceof Date){\n\t\t\t\t\t\tdisabledDates = [new Date(x.getFullYear(),x.getMonth(),x.getDate()).getTime()];\n\t\t\t\t\t}else if(!x){\n\t\t\t\t\t\tdisabledDates = [];\n\t\t\t\t\t}\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"highlight\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn highlight;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tvar nextId = 0;\n\t\t\t\t\tvar idList = {};\n\t\t\t\t\thighlight.forEach(function(hl) {\n\t\t\t\t\t\tconst key = (hl.legend || '') + '|' + (hl.backgroundColor || '') + '|' + (hl.color || '');\n\t\t\t\t\t\tidList[key] = hl.id;\n\t\t\t\t\t\tif (hl.id >= nextId) nextId = hl.id + 1;\n\t\t\t\t\t});\n\t\t\t\t\tif(x instanceof Array){\n\t\t\t\t\t\tx.forEach(function(hl) {\n\t\t\t\t\t\t\tif(hl instanceof Object){\n\t\t\t\t\t\t\t\tvar highlightObj = {};\n\t\t\t\t\t\t\t\t\thighlightObj.dates = [];\n\n\t\t\t\t\t\t\t\tif('start' in hl){\n\t\t\t\t\t\t\t\t\thighlightObj.dates.push({\n\t\t\t\t\t\t\t\t\t\tstart: new Date(hl.start.getFullYear(),hl.start.getMonth(),hl.start.getDate()),\n\t\t\t\t\t\t\t\t\t\tend: ('end' in hl)?new Date(hl.end.getFullYear(),hl.end.getMonth(),hl.end.getDate()):new Date(hl.start.getFullYear(),hl.start.getMonth(),hl.start.getDate())\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}else if('dates' in hl && hl.dates instanceof Array){\n\t\t\t\t\t\t\t\t\thl.dates.forEach(function(hlDate) {\n\t\t\t\t\t\t\t\t\t\thighlightObj.dates.push({\n\t\t\t\t\t\t\t\t\t\t\tstart: new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate()),\n\t\t\t\t\t\t\t\t\t\t\tend: ('end' in hlDate)?new Date(hlDate.end.getFullYear(),hlDate.end.getMonth(),hlDate.end.getDate()):new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate())\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\thighlightObj.color \t\t\t\t= hl.color;\n\t\t\t\t\t\t\t\thighlightObj.backgroundColor \t= hl.backgroundColor;\n\t\t\t\t\t\t\t\thighlightObj.legend\t\t\t\t= ('legend' in hl)?hl.legend:null;\n\t\t\t\t\t\t\t\tconst key = (highlightObj.legend || '') + '|' + (highlightObj.backgroundColor || '') + '|' + (highlightObj.color || '');\n\t\t\t\t\t\t\t\thighlightObj.id = (key in idList ? idList[key] : nextId++);\n\t\t\t\t\t\t\t\tidList[key] = highlightObj.id;\n\n\t\t\t\t\t\t\t\thighlight.push(highlightObj);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if(x instanceof Object){\n\t\t\t\t\t\tvar highlightObj = {};\n\t\t\t\t\t\thighlightObj.dates = [];\n\n\t\t\t\t\t\tif('start' in x){\n\t\t\t\t\t\t\thighlightObj.dates.push({\n\t\t\t\t\t\t\t\tstart: new Date(x.start.getFullYear(),x.start.getMonth(),x.start.getDate()),\n\t\t\t\t\t\t\t\tend: ('end' in x)?new Date(x.end.getFullYear(),x.end.getMonth(),x.end.getDate()):new Date(x.start.getFullYear(),x.start.getMonth(),x.start.getDate())\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}else if('dates' in x && x.dates instanceof Array){\n\t\t\t\t\t\t\tx.dates.forEach(function(hlDate) {\n\t\t\t\t\t\t\t\thighlightObj.dates.push({\n\t\t\t\t\t\t\t\t\tstart: new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate()),\n\t\t\t\t\t\t\t\t\tend: ('end' in hlDate)?new Date(hlDate.end.getFullYear(),hlDate.end.getMonth(),hlDate.end.getDate()):new Date(hlDate.start.getFullYear(),hlDate.start.getMonth(),hlDate.start.getDate())\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\thighlightObj.color \t\t\t\t= x.color;\n\t\t\t\t\t\thighlightObj.backgroundColor \t= x.backgroundColor;\n\t\t\t\t\t\thighlightObj.legend\t\t\t\t= ('legend' in x)?x.legend:null;\n\t\t\t\t\t\tconst key = (highlightObj.legend || '') + '|' + (highlightObj.backgroundColor || '') + '|' + (highlightObj.color || '');\n\t\t\t\t\t\thighlightObj.id = (key in idList ? idList[key] : nextId++);\n\t\t\t\t\t\tidList[key] = highlightObj.id;\n\n\t\t\t\t\t\thighlight.push(highlightObj);\n\t\t\t\t\t}else if(!x){\n\t\t\t\t\t\thighlight = [];\n\t\t\t\t\t}\n\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"onClose\": {\n\t\t\t\tset: function(callback){\n\t\t\t\t\tonClose = callback;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"onSelect\": {\n\t\t\t\tset: function(callback){\n\t\t\t\t\tonSelect = callback;\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"today\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn today;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\ttoday = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\ttoday = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"daynames\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn daynames;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tdaynames = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tdaynames = false;\n\t\t\t\t\t}\n\t\t\t\t\tgenerateDaynames();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"fullscreen\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn that.el.classList.contains('fullscreen');\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tthat.el.classList.add('fullscreen');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthat.el.classList.remove('fullscreen');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"locked\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn locked;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tlocked = true;\n\t\t\t\t\t\tthat.el.tables.classList.add('locked');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tlocked = false;\n\t\t\t\t\t\tthat.el.tables.classList.remove('locked');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"maxSelections\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn maxSelections;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(typeof x == 'number' && !range){\n\t\t\t\t\t\tmaxSelections = x;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tif(range){\n\t\t\t\t\t\t\tmaxSelections = 2;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tmaxSelections = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"onConfirm\": {\n\t\t\t\tset: function(callback){\n\t\t\t\t\tif(typeof callback == 'function'){\n\t\t\t\t\t\tonConfirm = callback.bind(that);\n\t\t\t\t\t\tthat.el.button.addEventListener(eventName,onConfirm);\n\t\t\t\t\t}else if(!callback){\n\t\t\t\t\t\tthat.el.button.removeEventListener(eventName,onConfirm);\n\t\t\t\t\t\tonConfirm = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"onNavigation\": {\n\t\t\t\tset: function(callback){\n\t\t\t\t\tif(typeof callback == 'function'){\n\t\t\t\t\t\tonNavigation = callback.bind(that);\n\t\t\t\t\t}else if(!callback){\n\t\t\t\t\t\tonNavigation = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"closeOnClick\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn closeOnClick;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tcloseOnClick = true;\n\t\t\t\t\t}else{\n\t\t\t\t\t\tcloseOnClick = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"tooltips\": {\n\t\t\t\tget: function(){\n\t\t\t\t\tvar ret = [];\n\t\t\t\t\tfor(var key in tooltips){\n\t\t\t\t\t\tret.push({\n\t\t\t\t\t\t\tdate: new Date(parseInt(key)),\n\t\t\t\t\t\t\ttext: tooltips[key]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\treturn ret;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x instanceof Array){\n\t\t\t\t\t\tx.forEach(function(item) {\n\t\t\t\t\t\t\tif(item.date && item.text && item.date instanceof Date){\n\t\t\t\t\t\t\t\ttooltips[new Date(item.date.getFullYear(),item.date.getMonth(),item.date.getDate()).getTime()] = item.text;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if(x instanceof Object){\n\t\t\t\t\t\tif(x.date && x.text && x.date instanceof Date){\n\t\t\t\t\t\t\ttooltips[new Date(x.date.getFullYear(),x.date.getMonth(),x.date.getDate()).getTime()] = x.text;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(!x){\n\t\t\t\t\t\ttooltips = [];\n\t\t\t\t\t}\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"currentDate\": {\n\t\t\t\tget: currentDateGetter,\n\t\t\t\tset: currentDateSetter\n\t\t\t},\n\t\t\t\"setDate\": {\n\t\t\t\tset: currentDateSetter\n\t\t\t},\n\t\t\t\"startDate\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn startDate;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tstartDate = new Date(x);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tstartDate = null;\n\t\t\t\t\t\tcurrentYear = new Date().getFullYear();\n\t\t\t\t\t\tcurrentMonth = new Date().getMonth() + 1;\n\t\t\t\t\t}\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"minDate\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn minDate;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tminDate = (x) ? new Date(x) : null ;\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"maxDate\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn maxDate;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tmaxDate = (x) ? new Date(x) : null ;\n\t\t\t\t\tsetDate();\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"container\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn container;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x instanceof String){\n\t\t\t\t\t\tvar y = document.querySelector(x);\n\t\t\t\t\t\tif(y){\n\t\t\t\t\t\t\tcontainer = y;\n\t\t\t\t\t\t\tif(container != document.body){\n\t\t\t\t\t\t\t\tthat.el.classList.add('wrapped');\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthat.el.classList.remove('wrapped');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tconsole.error(\"Container doesn't exist\");\n\t\t\t\t\t\t}\n\t\t\t\t\t}else if(x instanceof HTMLElement){\n\t\t\t\t\t\tcontainer = x;\n\t\t\t\t\t\tif(container != document.body){\n\t\t\t\t\t\t\tthat.el.classList.add('wrapped');\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tthat.el.classList.remove('wrapped');\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tconsole.error(\"Invalid type\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t\"inline\": {\n\t\t\t\tget: function(){\n\t\t\t\t\treturn inline;\n\t\t\t\t},\n\t\t\t\tset: function(x){\n\t\t\t\t\tif(x){\n\t\t\t\t\t\tinline = true;\n\t\t\t\t\t\tthat.el.classList.add('inline');\n\t\t\t\t\t}else{\n\t\t\t\t\t\tinline = false;\n\t\t\t\t\t\tthat.el.classList.remove('inline');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\n\t\t});\n\n\t\tinit();\n\t\tsetDate();\n\n\t\treturn Object.freeze(that);\n\t};\n\n\tfunction whichAnimationEvent(){\n\t\t\tvar t;\n\t\t\tvar el = document.createElement('fakeelement');\n\t\t\tvar transitions = {\n\t\t\t\t'animation':'animationend',\n\t\t\t\t'OAnimation':'oanimationend',\n\t\t\t\t'MozAnimation':'animationend',\n\t\t\t\t'WebkitAnimation':'webkitAnimationEnd',\n\t\t\t\t'':'MSAnimationEnd'\n\t\t\t};\n\n\t\t\tfor(t in transitions){\n\t\t\t\t\tif( el.style[t] !== undefined ){\n\t\t\t\t\t\t\treturn transitions[t];\n\t\t\t\t\t}\n\t\t\t}\n\t}\n\n\tvar template = \t'<div class=\"d-title\"></div>' +\n\t\t\t\t\t'<div class=\"d-calendar\">' +\n\t\t\t\t\t\t'<div class=\"d-header\">' +\n\t\t\t\t\t\t\t'<i id=\"d-previous\"></i>' +\n\t\t\t\t\t\t\t'<p><span class=\"d-month\"></span><span class=\"d-year\"></span></p>' +\n\t\t\t\t\t\t\t'<i id=\"d-next\"></i>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'<div class=\"d-month-picker\">' +\n\t\t\t\t\t\t\t'<div data-month=\"1\">1</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"2\">2</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"3\">3</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"4\">4</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"5\">5</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"6\">6</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"7\">7</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"8\">8</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"9\">9</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"10\">10</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"11\">11</div>' +\n\t\t\t\t\t\t\t'<div data-month=\"12\">12</div>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'<div class=\"d-year-picker\">' +\n\t\t\t\t\t\t\t'<div data-year=\"-5\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"-4\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"-3\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"-2\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"-1\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"0\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"1\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"2\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"3\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"4\"></div>' +\n\t\t\t\t\t\t\t'<div data-year=\"5\"></div>' +\n\t\t\t\t\t\t'</div>' +\n\t\t\t\t\t\t'<div class=\"d-tables\"></div>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t\t'<div class=\"d-legend\"></div>' +\n\t\t\t\t\t'<button class=\"d-confirm\"></button>' +\n\t\t\t\t\t'<div class=\"d-overlay\"></div>';\n\n\tvar getBrowserVersion =  function(){\n\t\tvar browser = {\n\t\t\ttype: null,\n\t\t\tversion: null\n\t\t};\n\n\t\tvar ua= navigator.userAgent, tem, ios,\n\t\t\tM= ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i) || [];\n\t\t\tios = ua.match(/(iphone|ipad)\\s+OS\\s+([\\d+_]+\\d+)/i) || [];\n\t\t\tif(/trident/i.test(M[1])){\n\t\t\t\t\ttem=  /\\brv[ :]+(\\d+)/g.exec(ua) || [];\n\t\t\t\t\tbrowser.type = 'MSIE';\n\t\t\t\t\tbrowser.version = parseInt(tem[1]);\n\t\t\t\t\treturn browser;\n\t\t\t}\n\t\t\tif(M[1]=== 'Chrome'){\n\t\t\t\t\ttem= ua.match(/\\bOPR\\/(\\d+)/);\n\t\t\t\t\tif(tem!= null) return 'Opera '+tem[1];\n\t\t\t}\n\t\t\tif(ios[1]){\n\t\t\t\treturn browser = {\n\t\t\t\t\ttype: 'iOS',\n\t\t\t\t\tversion: ios[2]\n\t\t\t\t};\n\t\t\t}\n\t\t\tM= M[2]? [M[1], M[2]]: [navigator.appName, navigator.appVersion, '-?'];\n\t\t\tif((tem= ua.match(/version\\/(\\d+)/i))!= null) M.splice(1, 1, tem[1]);\n\t\t\tbrowser.type = M[0];\n\t\t\tbrowser.version = parseInt(M[1]);\n\n\t\t\treturn browser;\n\t};\n\n\t/* Spread it to the world! */\n\tif ( typeof define === 'function' && define.amd ) define('Datepickk', Datepickk);\n\telse if ( typeof exports === 'object' ) module.exports = Datepickk;\n\telse window.Datepickk = Datepickk;\n})();\n"]}